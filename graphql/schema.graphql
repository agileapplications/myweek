scalar DateTime

type Task {
  id: ID!
  taskListId: ID!
  title: String!
  description: String
  big: Boolean!
  planned: String
  position: Int!
  archivedAt: DateTime
  subTasks: [SubTask!]!
  taskList: TaskList!
}

type SubTask {
  id: ID!
  taskId: ID!
  title: String!
  completed: Boolean!
}

type TaskList {
  id: ID!
  name: String!
  tasks(archived: Boolean = false): [Task!]!
}

type TaskSearchResult {
  totalCount: Int!
  tasks: [Task!]!
}

type Query {
  tasks(archived: Boolean): [Task!]!
  taskLists: [TaskList!]!
  searchTasks(query: String!, limit: Int = 10, offset: Int = 0, includeArchived: Boolean = true): TaskSearchResult!
}

type Mutation {
  createTaskList(name: String!): TaskList!
  createTask(taskListId: ID!, title: String!, description: String, big: Boolean): Task!
  updateTask(id: ID!, title: String, description: String, big: Boolean): Task!
  moveTask(id: ID!, taskListId: ID!, position: Int!): Task!
  setTaskPlanned(id: ID!, planned: String): Task!
  toggleTaskArchived(id: ID!): Task!
  createSubTask(taskId: ID!, title: String!): SubTask!
  updateSubTask(id: ID!, title: String, completed: Boolean): SubTask!
  deleteSubTask(id: ID!): ID!
  deleteTaskList(id: ID!): ID!
}
